<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ME/RESUME</title>
    <link rel="stylesheet" href="output.css">
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-slate-200">
    <div id="tools" class="fixed z-10 px-1.5 text-sm font-medium text-shadow-2xs text-shadow-white/55 select-none text-zinc-800/90">
        tools:
        <span id="tl" class="underline mx-1 cursor-pointer">toggle landscape</span>
        <span id="ex" class="underline mx-1 cursor-pointer">&times; close this</span>
    </div>
    <script>
        document.getElementById('tl').addEventListener('click', () => {
            if(window.location.hash.includes('landscape')) window.location.replace(`${window.location.href.split('#')[0]}${window.location.hash.replace('landscape', '')}`);
            else window.location.replace(`${window.location.href.split('#')[0]}#landscape`);

            window.location.reload();
        });
        document.getElementById('ex').addEventListener('click', () => {
            let n = document.getElementById('tools');
            n.innerHTML = "refresh the page to show this again. (disappearing in 3s)";
            setTimeout(() => n.remove(), 3000);
        });
    </script>
    <iframe id="router" class="w-full min-h-screen bg-transparent" src="" frameborder="0">

    </iframe>
</body>
<script>
    const router = document.getElementById("router");
    const target = (new URLSearchParams(window.location.search)).get("target");
    let realPath = "";
    console.log(target);
    switch (target?.toLowerCase()) {
        default:
        case "online":
            realPath = "./resumeOnline.html";
            break;
        case "real":
            realPath = "./resumeReal.html";
            break;
    }
    router.setAttribute("src", `${realPath}${window.location.hash}`);

    router.addEventListener("load", () => {
        let inner = router.contentDocument || router.contentWindow.document;
        router.style.height = Math.max(
            inner.body.scrollHeight,
            inner.documentElement.scrollHeight,
            inner.body.offsetHeight,
            inner.documentElement.offsetHeight,
            inner.body.clientHeight,
            inner.documentElement.clientHeight
        ) + 20 + "px";
        inner.body.style.background = "transparent";
    })

</script>

</html>